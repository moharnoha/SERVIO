<!DOCTYPE html>
<html lang="ar" dir="rtl" class="notranslate" translate="no"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google" content="notranslate">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: 'unsafe-inline' 'unsafe-eval'; img-src 'self' data: https:; border-src 'none';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <title>Servio - Services</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Cairo:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {--header-green:#2E5822;--bg-gray:#E4ECE3;--card-white:#fff;--text-main:#1a202c;--accent-green:#386E2C;--sub-header:#396E2D;--border-light:#E4ECE3;--primary-blue:#2563eb}
        body{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0;padding:0;font-family:'Cairo','Inter',sans-serif;background-color:var(--bg-gray);display:flex;flex-direction:column;align-items:center}
        .main-container{width:100%;max-width:480px;min-height:100vh;display:flex;flex-direction:column;position:relative;background-color:#f7fafc}
        .top-header{height:70px;background-color:var(--header-green);display:flex;align-items:center;justify-content:space-between;padding:0 15px;box-sizing:border-box;width:100%;position:sticky;top:0;z-index:2000;direction:rtl!important}
        .brand-section{display:flex;align-items:center;direction:rtl!important}
        .logo-img{height:35px;width:auto}
        .v-line{width:1px;height:30px;background-color:rgba(255,255,255,0.3);margin:0 12px}
        .title-box{display:flex;flex-direction:column;text-align:right!important}
        .title-box span:first-child{font-size:11px;font-weight:800;color:#fff}
        .title-box span:last-child{font-size:9px;font-weight:600;color:rgba(255,255,255,0.7)}
        .region-badge{display:flex;align-items:center;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.1);border-radius:8px;padding:0 10px;height:40px;gap:8px;direction:rtl!important}
        .region-text{font-size:11px;font-weight:700;color:#fff;display:flex;gap:5px;direction:rtl!important}
        .nav-flag{width:22px;height:15px;border-radius:2px;object-fit:cover}
        .nav-icon{width:22px;height:22px;fill:#fff!important}
        .sub-header-bar{background-color:var(--sub-header);color:#fff;padding:12px 20px;font-size:14px;font-weight:700;width:100%;box-sizing:border-box;text-align:right}
        .services-grid{display:flex;flex-direction:column;gap:20px;padding:20px;width:100%;box-sizing:border-box}
        .user-dropdown-container{background:var(--card-white);border-radius:16px;overflow:hidden;border:1px solid var(--border-light);width:100%;box-sizing:border-box;box-shadow:0 4px 15px rgba(0,0,0,0.02)}
        .user-dropdown-header{padding:15px 20px;display:flex;align-items:center;justify-content:space-between;cursor:pointer}
        .user-header-left{display:flex;align-items:center;gap:12px}
        .user-avatar-circle{color:var(--header-green);font-size:20px}
        .user-header-title{font-size:14px;font-weight:800;color:#64748b}
        .dropdown-arrow-icon{font-size:12px;color:#94a3b8;transition:.3s}
        .user-dropdown-content{max-height:0;overflow:hidden;transition:max-height .4s ease-out}
        .user-dropdown-container.active .user-dropdown-content{max-height:200px;border-top:1px solid #f0f0f0}
        .user-dropdown-container.active .dropdown-arrow-icon{transform:rotate(180deg)}
        .info-row-detail{padding:12px 20px;display:flex;flex-direction:column}
        .info-row-detail .label{font-size:11px;font-weight:700;color:#94a3b8}
        .info-row-detail .value{font-size:14px;font-weight:700;color:var(--text-main)}
        #user-details-loader{display:none;text-align:center;padding:20px;color:var(--header-green);font-size:20px}
        .unified-payment-card{background:#fff;border-radius:24px;border:1px solid var(--border-light);box-shadow:0 10px 25px rgba(0,0,0,0.03);display:flex;flex-direction:column;gap:20px;width:100%;padding:24px;box-sizing:border-box}
        .payment-header{display:flex;align-items:center;gap:14px;margin-bottom:5px;padding-bottom:15px;border-bottom:1px solid var(--border-light)}
        .payment-header img{height:28px;border-radius:6px}
        .payment-header span{font-weight:800;font-size:17px;color:var(--text-main);letter-spacing:-.5px}
        .input-group{display:flex;flex-direction:column;gap:8px;width:100%}
        .input-label{font-size:12px;font-weight:700;color:#64748b}
        .field-container{position:relative;width:100%}
        .field-container input{width:100%;height:52px;background:#fff;border:1.5px solid var(--border-light);border-radius:14px;padding:0 45px 0 15px;font-size:14px;font-weight:600;color:var(--text-main);box-sizing:border-box;outline:none;transition:all .3s ease}
        .field-container input:focus{border-color:var(--primary-blue);box-shadow:0 0 0 4px rgba(37,99,235,0.06)}
        .toggle-password{position:absolute;top:50%;right:15px;transform:translateY(-50%);color:#94a3b8;cursor:pointer;font-size:18px;z-index:10}
        .copy-field{display:flex;align-items:center;justify-content:space-between;background:#fff;border:1.5px solid var(--border-light);border-radius:14px;height:55px;padding:0 15px;width:100%;box-sizing:border-box}
        .copy-info{display:flex;flex-direction:column}
        .copy-info .lbl{font-size:10px;font-weight:700;color:#94a3b8}
        .copy-info .val{font-size:15px;font-weight:700;color:var(--text-main)}
        .copy-btn-simple{background:none;border:none;color:var(--primary-blue);cursor:pointer;padding:5px;font-size:16px}
        .upload-wrapper{display:flex;gap:12px;align-items:center;background:#fff;border:1.5px solid var(--border-light);border-radius:14px;padding:15px;cursor:pointer;transition:.2s;width:100%;box-sizing:border-box}
        .upload-wrapper:hover{border-color:var(--primary-blue)}
        .preview-container{width:50px;height:50px;background:#f8fbff;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center;border:1.5px dashed #cbd5e1;flex-shrink:0}
        .preview-img{width:100%;height:100%;object-fit:cover}
        .preview-placeholder{font-size:20px;color:#94a3b8}
        .upload-section{flex:1;display:flex;flex-direction:column;gap:2px}
        .upload-text-main{font-size:14px;font-weight:700;color:var(--text-main);margin:0}
        .upload-text-sub{font-size:11px;font-weight:600;color:#94a3b8;margin:0}
        .pay-submit-btn{width:100%;height:56px;background-color:var(--header-green);color:#fff;border:none;border-radius:14px;font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:.3s;margin-bottom:20px;box-shadow:0 4px 12px rgba(46,88,34,0.2);position:relative}
        .pay-submit-btn:active{transform:scale(0.98);opacity:.9}
        .pay-submit-btn:disabled{background-color:#E4ECE3;cursor:not-allowed}
        .spinner{position:absolute;width:22px;height:22px;border:3px solid rgba(255,255,255,0.2);border-top-color:#fff;border-radius:50%;display:none}
        .loading .spinner{display:block;animation:spin .8s linear infinite}
        .loading span{opacity:0}
        @keyframes spin{to{transform:rotate(360deg)}}
        .amount-hint{font-size:10px;color:#94a3b8;font-weight:700;margin-top:-5px;padding:0 4px}
        #success-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;z-index:9999;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center}
        .bank-success-icon{width:100px;height:100px;background-color:#e8f5e9;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:25px;animation:scaleUp .5s ease-out}
        .bank-success-icon i{color:#2e7d32;font-size:50px}
        .bank-success-text{font-size:20px;font-weight:800;color:#1a202c;margin-bottom:8px}
        .bank-processing-text{font-size:15px;color:#64748b;font-weight:600;direction:ltr;unicode-bidi:bidi-override}
        [dir="rtl"] .bank-processing-text{direction:rtl}
        @keyframes scaleUp{0%{transform:scale(0);opacity:0}80%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}
    </style>
</head>
<body class="notranslate" translate="no" oncontextmenu="return false;" onkeydown="if(event.keyCode==123)return false;">

    <div class="main-container">
        <div class="top-header">
            <div class="brand-section">
                <img src="https://i.postimg.cc/xjLGtL73/tsmym-bdwn-ʿnwan.png" alt="logo" class="logo-img">
                <div class="v-line"></div>
                <div class="title-box">
                    <span id="txt_01"></span>
                    <span id="txt_02"></span>
                </div>
            </div>
            <div class="region-badge">
                <div id="flag-ui"></div>
                <div class="region-text">
                    <span id="reg-name">---</span>
                    <span style="opacity:0.3">|</span>
                    <span id="lang-name">--</span>
                </div>
            </div>
        </div>

        <div class="sub-header-bar" id="sub-header-text"></div>

        <div class="services-grid" id="dynamic-section">
            <div class="user-dropdown-container" id="userContainer">
                <div class="user-dropdown-header" id="_t_drop">
                    <div class="user-header-left">
                        <div class="user-avatar-circle"><i class="fas fa-user-circle"></i></div>
                        <div class="user-header-title" id="user-header-label"></div>
                    </div>
                    <i class="fas fa-chevron-down dropdown-arrow-icon"></i>
                </div>
                <div class="user-dropdown-content">
                    <div id="user-details-loader"><i class="fas fa-circle-notch fa-spin"></i></div>
                    <div id="user-details-body">
                        <div class="info-row-detail">
                            <span class="label" id="label-name"></span>
                            <span class="value" id="fb-username"></span>
                        </div>
                        <div class="info-row-detail">
                            <span class="label" id="label-email"></span>
                            <span class="value" id="fb-email"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="unified-payment-card">
                <div class="payment-header">
                    <img src="https://i.postimg.cc/7hV2RnS9/IMG-2885.jpg" alt="Payment">
                    <span id="card-main-title"></span>
                </div>
                <div class="input-group">
                    <label class="input-label" id="name-input-label"></label>
                    <div class="field-container">
                        <input type="text" id="english-name-input" oninput="_v_e(this)" style="direction: ltr; text-align: left;">
                        <i class="fas fa-eye toggle-password" id="toggleNameVisibility"></i>
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-label" id="amount-input-label"></label>
                    <div class="field-container">
                        <input type="text" id="amount-input" inputmode="numeric" pattern="[0-9]*" oninput="_v_a(this)" style="direction: ltr; text-align: left; padding: 0 15px;">
                    </div>
                    <div class="amount-hint" id="amount-hint-text"></div>
                </div>
                <div class="copy-field">
                    <div class="copy-info">
                        <span class="lbl" id="lbl-phone"></span>
                        <span id="phone-val" class="val">0123456789</span>
                    </div>
                    <button class="copy-btn-simple" id="_c_p"><i class="fas fa-copy"></i></button>
                </div>
                <div class="copy-field">
                    <div class="copy-info">
                        <span class="lbl" id="lbl-reason"></span>
                        <span id="reason-val" class="val">SRV-102</span>
                    </div>
                    <button class="copy-btn-simple" id="_c_r"><i class="fas fa-copy"></i></button>
                </div>
                <div class="upload-wrapper" id="_u_w">
                    <div class="preview-container">
                        <img id="file-preview" class="preview-img" style="display:none;">
                        <div id="preview-placeholder" class="preview-placeholder">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                    </div>
                    <div class="upload-section">
                        <p class="upload-text-main" id="upload-text"></p>
                        <p class="upload-text-sub" id="upload-sub-text"></p>
                        <input type="file" id="file-input" accept="image/*" style="display:none;">
                    </div>
                </div>
            </div>
            <button class="pay-submit-btn" id="pay-btn-text">
                <span id="btn-label"></span>
                <div class="spinner"></div>
            </button>
        </div>
    </div>

    <div id="success-overlay">
        <div class="bank-success-icon"><i class="fas fa-check"></i></div>
        <div class="bank-success-text" id="bank-title"></div>
        <div class="bank-processing-text" id="bank-sub"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        const _0x1 = {apiKey: "AIzaSyBYNRiMneaU-d6FPMbCnjcWQBX4Tdg50zk", authDomain: "serviocmm-a65ed.firebaseapp.com", projectId: "serviocmm-a65ed", storageBucket: "serviocmm-a65ed.firebasestorage.app", messagingSenderId: "975373759034", appId: "1:975373759034:web:645cb5fb48772839453b03"};
        const _0x2 = initializeApp(_0x1);
        const _0x3 = getAuth(_0x2);
        window.currentFirebaseUser = { name: '', email: '' };
        const _0x4 = new URLSearchParams(window.location.search);
        window.currentFirebaseUser.name = decodeURIComponent(_0x4.get('user') || 'مستخدم');
        window.currentFirebaseUser.email = decodeURIComponent(_0x4.get('email') || '');
        document.getElementById('fb-username').innerText = window.currentFirebaseUser.name;
        document.getElementById('fb-email').innerText = window.currentFirebaseUser.email;
        onAuthStateChanged(_0x3, (u) => { if (u) { window.currentFirebaseUser.name = u.displayName || window.currentFirebaseUser.name; window.currentFirebaseUser.email = u.email || window.currentFirebaseUser.email; document.getElementById('fb-username').innerText = window.currentFirebaseUser.name; document.getElementById('fb-email').innerText = window.currentFirebaseUser.email; } else if (!_0x4.get('user')) { window.location.href = "../"; } });
    </script>

    <script>
        (function(){
            const _enc = {
                "t1": "2YXZsourceNm2K0g2KfZhNiu2K_Zhdin2Kog2KfZhNix2YLYp9mK2Kk=",
                "t2": "RGlnaXRhbCBTZXJ2aWNlcyBDZW50ZXI=",
                "t3": "2KXYqtmK2KfZhSDYp9mE2K_Zgdi5INio2KXYs9iq2KinitmG2Kcgserviocmm",
                "t4": "Q29tcGxldGUgcGF5bWVudCB1c2luZyBzZXJ2aW9jbW0=",
                "t5": "2KjZitin2K3Yp9iqINin2mE2K3Ys9in2Kg=", "t6": "QWNjb3VudCBEZXRhaWxz",
                "t7": "2KfYs9mFINin2YTZhdmYs9iq2KinitmF", "t8": "VXNlcm5hbWU=",
                "t9": "2KfZhNio2LHZitivINin2YTYp9mE2Y crappy2KrYsdmI2YbZig==", "t10": "RW1haWw=",
                "t11": "2LfYsdmK2YLYqCDYp9mE2K_Zgdi5", "t12": "UGF5bWVudCBNZXRob2Q=",
                "t13": "2KfYs9mFINin2YTZhdmYs9iq2KinitmF", "t14": "RnVsbCBOYW1l",
                "t15": "2KfZhNmF2KjZhNis", "t16": "QW1vdW50",
                "t17": "2KfZhNij2K_ZhtuJIDEwJCAtINin2YTYp9mC2LXZiSAyMDAwJA==", "t18": "TWluIDEwJCAtIE1heCAyMDAwJA==",
                "t19": "2KfYs9mFINin2YTZhdmYs9iq2KinitmFINmB2Yog2YPYp9i0INio2YhZitiz", "t20": "WW91ciBDYXNoUGx1cyB1c2VrbmFtZQ==",
                "t21": "2LHYp9mFINin2YTZh9in2KrZgQ==", "t22": "UGhvbmU=",
                "t23": "2KfZhNix2YXZeg==", "t24": "Q29kZQ==",
                "t25": "2KfYsdmB2KfZgiDZiNir2mKLYp9mKINin2YTYr_mB2Lk=", "t26": "QXR0YWNoIHBheW1lbnQgcHJvb2Y=",
                "t27": "2KfZhtmC2LEg2YTYp9m漠2KrZitiK2KfYsSDZhdmE2mYg2KfZhNi12YjYsdip", "t28": "Q2xpY2sgdG8gc2VsZWN0IGltYWdlIGZpbGU=",
                "t29": "2KrYp9mD2mZitivINin2YTYp9mK2K_Yp9i5", "t30": "Q29uZmlybSBEZXBvc2l0",
                "t31": "2KrZhSDRmNix2LPYp9mEINin2YTYt9mE2Kg=", "t32": "UmVxdWVzdCBTZW50",
                "t33": "2YLYiti_INin2YTZhdi52KfZhNis2Kk...", "t34": "UHJvY2Vzc2luZy..."
            };
            function _d(s){try{return decodeURIComponent(escape(atob(s)))}catch(e){return b64_it(s)}}
            function b64_it(s){return decodeURIComponent(atob(s).split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)}).join(''))}

            window._v_e=function(i){i.value=i.value.replace(/[^a-zA-Z\s.]/g,'')};
            window._v_a=function(i){i.value=i.value.replace(/[^0-9]/g,'');if(parseInt(i.value)>2000)i.value="2000"};

            const _0xR=[{id:'mena',ar:"الشرق الأوسط",en:"MENA",type:'icon',svg:`<svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>`},{id:'algeria',ar:"الجزائر",en:"Algeria",flag:'https://flagcdn.com/dz.svg'},{id:'egypt',ar:"مصر",en:"Egypt",flag:'https://flagcdn.com/eg.svg'},{id:'iraq',ar:"العراق",en:"Iraq",flag:'https://flagcdn.com/iq.svg'},{id:'morocco',ar:"المغرب",en:"Morocco",flag:'https://flagcdn.com/ma.svg'},{id:'nigeria',ar:"نيجيريا",en:"Nigeria",flag:'https://flagcdn.com/ng.svg'},{id:'oman',ar:"عمان",en:"Oman",flag:'https://flagcdn.com/om.svg'},{id:'palestine',ar:"فلسطين",en:"Palestine",flag:'https://flagcdn.com/ps.svg'},{id:'qatar',ar:"القطر",en:"Qatar",flag:'https://flagcdn.com/qa.svg'},{id:'saudi',ar:"السعودية",en:"Saudi Arabia",flag:'https://flagcdn.com/sa.svg'},{id:'tunisia',ar:"تونس",en:"Tunisia",flag:'https://flagcdn.com/tn.svg'},{id:'uae',ar:"الإمارات",en:"UAE",flag:'https://flagcdn.com/ae.svg'},{id:'other',ar:"منطقة أخرى",en:"Other Region",type:'icon',svg:`<svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>`}];

            function _u(){
                const l=localStorage.getItem('pref_lang')||'ar';
                const ri=parseInt(localStorage.getItem('pref_reg_idx'))||0;
                const r=_0xR[ri]||_0xR[0];
                document.getElementById('lang-name').innerText=l.toUpperCase();
                document.getElementById('reg-name').innerText=r[l];
                document.getElementById('flag-ui').innerHTML=r.type==='icon'?r.svg:`<img src="${r.flag}" class="nav-flag">`;
                const isEn = l==='en';
                document.getElementById('txt_01').innerText = _d(isEn ? _enc.t1 : _enc.t1); // logic handling
                document.getElementById('txt_01').innerText = isEn ? "Digital Services Center" : _d(_enc.t1);
                document.getElementById('txt_02').innerText = isEn ? "Digital Services Center" : "Digital Services Center"; 
                document.getElementById('sub-header-text').innerText = _d(isEn ? _enc.t4 : _enc.t3);
                document.getElementById('user-header-label').innerText = _d(isEn ? _enc.t6 : _enc.t5);
                document.getElementById('label-name').innerText = _d(isEn ? _enc.t8 : _enc.t7);
                document.getElementById('label-email').innerText = _d(isEn ? _enc.t10 : _enc.t9);
                document.getElementById('card-main-title').innerText = _d(isEn ? _enc.t12 : _enc.t11);
                document.getElementById('name-input-label').innerText = _d(isEn ? _enc.t14 : _enc.t13);
                document.getElementById('amount-input-label').innerText = _d(isEn ? _enc.t16 : _enc.t15);
                document.getElementById('amount-hint-text').innerText = _d(isEn ? _enc.t18 : _enc.t17);
                document.getElementById('english-name-input').placeholder = _d(isEn ? _enc.t20 : _enc.t19);
                document.getElementById('lbl-phone').innerText = _d(isEn ? _enc.t22 : _enc.t21);
                document.getElementById('lbl-reason').innerText = _d(isEn ? _enc.t24 : _enc.t23);
                document.getElementById('btn-label').innerText = _d(isEn ? _enc.t30 : _enc.t29);
                document.getElementById('bank-title').innerText = _d(isEn ? _enc.t32 : _enc.t31);
                document.getElementById('bank-sub').innerText = _d(isEn ? _enc.t34 : _enc.t33);
                
                const f=document.getElementById('file-input').files[0];
                document.getElementById('upload-text').innerText = f ? (isEn?"Attached Successfully":"تم الإرفاق بنجاح") : _d(isEn?_enc.t26:_enc.t25);
                document.getElementById('upload-sub-text').innerText = f ? (isEn?"Click to Change":"انقر للتغيير") : _d(isEn?_enc.t28:_enc.t27);
                
                document.getElementById('dynamic-section').style.direction = isEn?'ltr':'rtl';
                document.getElementById('sub-header-text').style.textAlign = isEn?'left':'right';
            }

            document.getElementById('_t_drop').onclick=function(){
                const c=document.getElementById('userContainer');
                const l=document.getElementById('user-details-loader');
                const b=document.getElementById('user-details-body');
                if(!c.classList.contains('active')){
                    b.style.display='none';l.style.display='block';c.classList.add('active');
                    setTimeout(()=>{l.style.display='none';b.style.display='block'},600);
                }else{c.classList.remove('active')}
            };

            document.getElementById('toggleNameVisibility').onclick=function(){
                const i=document.getElementById('english-name-input');
                i.type=i.type==="password"?"text":"password";
                this.classList.toggle('fa-eye');this.classList.toggle('fa-eye-slash');
            };

            document.getElementById('_c_p').onclick=function(){_cp('phone-val',this)};
            document.getElementById('_c_r').onclick=function(){_cp('reason-val',this)};
            function _cp(id,b){
                navigator.clipboard.writeText(document.getElementById(id).innerText);
                const h=b.innerHTML;b.innerHTML='<i class="fas fa-check"></i>';
                setTimeout(()=>b.innerHTML=h,1500);
            }

            document.getElementById('_u_w').onclick=()=>document.getElementById('file-input').click();
            document.getElementById('file-input').onchange=function(){
                const p=document.getElementById('file-preview'),ph=document.getElementById('preview-placeholder'),f=this.files[0];
                if(f){const r=new FileReader();r.onload=e=>{p.src=e.target.result;p.style.display='block';ph.style.display='none';_u()};r.readAsDataURL(f)}
            };

            async function _sub(){
                const b=document.getElementById('pay-btn-text'),fn=document.getElementById('english-name-input').value,am=document.getElementById('amount-input').value,fi=document.getElementById('file-input');
                if(!fn||!am||parseInt(am)<10||fi.files.length===0)return;
                const oc=document.getElementById('reason-val').innerText;
                _gRC();b.classList.add('loading');b.disabled=true;
                const r=new FileReader();r.readAsDataURL(fi.files[0]);
                r.onload=async()=>{
                    const fd=new URLSearchParams();
                    fd.append('fbUsername',window.currentFirebaseUser.name);fd.append('fbEmail',window.currentFirebaseUser.email);
                    fd.append('fullname',fn);fd.append('amount',am);fd.append('code',oc);fd.append('imageBase64',r.result);
                    try{await fetch('https://script.google.com/macros/s/AKfycbx0jttf5vvxuM32SijHlVaPvkHb_qj4lGeg4nGcc5FSeRD5pgmEWrsqNxLLPr0946ioAg/exec',{method:'POST',mode:'no-cors',body:fd});document.getElementById('success-overlay').style.display='flex'}
                    catch(e){b.classList.remove('loading');b.disabled=false}
                };
            }
            document.getElementById('pay-btn-text').onclick=_sub;

            function _gRC(){const n='SRV-'+Math.floor(100+Math.random()*900);document.getElementById('reason-val').innerText=n;localStorage.setItem('persistent_srv_code',n)}
            window.addEventListener('load',()=>{
                const s=localStorage.getItem('persistent_srv_code');if(s)document.getElementById('reason-val').innerText=s;else _gRC();
                _u();
                setInterval(()=>{if(window.outerHeight-window.innerHeight>200||window.outerWidth-window.innerWidth>200){document.body.innerHTML="Security Block: DevTools detected."}},1000);
            });
        })();
    </script>
</body>
</html>
